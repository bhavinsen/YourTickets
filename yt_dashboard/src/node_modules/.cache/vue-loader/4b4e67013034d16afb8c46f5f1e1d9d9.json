{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/martijn/Documents/projects/yourtickets/yourticketsgit/yourtickets/yt_dashboard/src/views/event/Visitors.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/martijn/Documents/projects/yourtickets/yourticketsgit/yourtickets/yt_dashboard/src/views/event/Visitors.vue","mtime":1618405950342},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0V2ZW50VmlzaXRvcnMnLAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzWydldmVudF92aXNpdG9ycy9nZXRhbGwnXSh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB0aGlzLmZpbmFuY2lhbF9vdmVydmlldyA9IGRhdGEuZmluYW5jaWFsX292ZXJ2aWV3OwogICAgICAgICAgdGhpcy5ndWVzdF90aWNrZXQgPSBkYXRhLmd1ZXN0X3RpY2tldAogICAgICAgICAgdGhpcy5zcGVjaWFsX2d1ZXN0X3RpY2tldCA9IGRhdGEuc3BlY2lhbF9ndWVzdF90aWNrZXQKCiAgICAgICAgICB0aGlzLnRvdGFsX3ByaWNlID0gZGF0YS50b3RhbF9wcmljZQogICAgICAgICAgdGhpcy50b3RhbF90aWNrZXRzX3NvbGQgPSBkYXRhLnRvdGFsX3RpY2tldHNfc29sZAogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gdGhpcy5sb2FkaW5nPWZhbHNlKQogIH0sCiAgbWV0aG9kczp7CiAgICBzaG93X2RldGFpbF9kaWFsb2c6IGZ1bmN0aW9uKHR5cGUsIHRpY2tldF9pZCl7CgogICAgICB0aGlzLmRldGFpbF9kaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzWydldmVudF92aXNpdG9ycy9nZXRfdmlzaXRvcnNfZm9yX3RpY2tldCddKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgdGlja2V0X2lkKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5kZXRhaWwuaXRlbXMgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICB9KS5maW5hbGx5KCgpID0+IHRoaXMubG9hZGluZz1mYWxzZSkKCiAgICB9LAogICAgc2V0VXBsb2FkRmlsZShmaWxlKXsKICAgICAgdGhpcy5ndWVzdGxpc3QgPSBmaWxlOwogICAgfSwKICAgIC8vCiAgICBkb3dubG9hZCh0eXBlKXsKICAgICAgY29uc29sZS5sb2codHlwZSk7CiAgICB9LAogICAgc2F2ZSAoKSB7CiAgICAgIC8vIHRoaXMuc2hvd0xvYWRlcigpOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgZm9ybURhdGEuYXBwZW5kKCJpbXBvcnRmaWxlIiwgdGhpcy5ndWVzdGxpc3QpOwoKICAgICAgLy8gcmV0dXJuOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZXZlbnRfdmlzaXRvcnMvdXBsb2FkX2d1ZXN0bGlzdCcsIHtldmVudF9pZDp0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIGd1ZXN0bGlzdDpmb3JtRGF0YX0pCiAgICAgICAgICAudGhlbigocmVzKT0+ewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICAgICAgbGV0IHNoZWV0ID0gcmVzLmRhdGEuc2hlZXQ7CgogICAgICAgICAgICBjb25zdCBjb2x1bW5zID0gT2JqZWN0LmtleXMoc2hlZXQpOwogICAgICAgICAgICB0aGlzLmRhdGFfbGVmdCA9IHNoZWV0W2NvbHVtbnNbMF1dOwogICAgICAgICAgICB0aGlzLmhlYWRlcl9sZWZ0ID0gY29sdW1uc1swXTsKCiAgICAgICAgICAgIHRoaXMuZGF0YV9yaWdodCA9IHNoZWV0W2NvbHVtbnNbMV1dOwogICAgICAgICAgICB0aGlzLmhlYWRlcl9yaWdodCA9IGNvbHVtbnNbMV07CgogICAgICAgICAgICB0aGlzLnN0ZXBwZXIgPSAyOwogICAgICAgICAgfSkKICAgICAgICAgIC5maW5hbGx5KCgpID0+IHRoaXMubG9hZGluZyA9IGZhbHNlKQogICAgfSwKICAgIHNlbGVjdENoZWNrKCl7CiAgICAgIGlmKHRoaXMuc2VsZWN0X2xlZnQgPT09IHRoaXMuc2VsZWN0X3JpZ2h0KXsKICAgICAgICB0aGlzLm5leHRfYnV0dG9uX2Rpc2FibGVkPXRydWU7CiAgICAgIH1lbHNlIGlmKHRoaXMuc2VsZWN0X2xlZnQgIT09IGZhbHNlICYmIHRoaXMuc2VsZWN0X3JpZ2h0ICE9PSBmYWxzZSl7CiAgICAgICAgdGhpcy5uZXh0X2J1dHRvbl9kaXNhYmxlZD1mYWxzZTsKICAgICAgfQogICAgfSwKICAgIHNlbmRfc2luZ2xlX3RpY2tldCgpewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZXZlbnRfdmlzaXRvcnMvc2VuZF9zaW5nbGVfdGlja2V0JywgewogICAgICAgICdldmVudF9pZCc6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAnbmFtZSc6IHRoaXMuc2luZ2xlX25hbWUsCiAgICAgICAgJ2VtYWlsJzogdGhpcy5zaW5nbGVfZW1haWwsCiAgICAgICAgJ3RpY2tldF90eXBlJzogdGhpcy5kYXRhX2NvbGxlY3RpbmcgPyAnd2l0aCc6ICd3aXRob3V0JwogICAgICB9KQogICAgICAgIC50aGVuKCgpPT57CiAgICAgICAgICB0aGlzLnNlbmRfZGlhbG9nID0gZmFsc2UKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHRoaXMubG9hZGluZyA9IGZhbHNlKQogICAgfSwKICAgIHNlbmQoKXsKICAgICAgLy8gbGV0IGxlZnRfc2VsZWN0ID0gdGhpcy5zZWxlY3RfbGVmdDsKICAgICAgLy8gbGV0IHJpZ2h0X3NlbGVjdCA9IHRoaXMuc2VsZWN0X3JpZ2h0OwogICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdF9sZWZ0KQogICAgICBsZXQgbmFtZSA9IHRoaXMuc2VsZWN0X2xlZnQgPT09ICduYW1lJyA/IHRoaXMuaGVhZGVyX2xlZnQgOiB0aGlzLmhlYWRlcl9yaWdodDsKICAgICAgbGV0IGVtYWlsID0gdGhpcy5zZWxlY3RfcmlnaHQgPT09ICduYW1lJyA/IHRoaXMuaGVhZGVyX2xlZnQgOiB0aGlzLmhlYWRlcl9yaWdodDsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdldmVudF92aXNpdG9ycy9zZW5kX2d1ZXN0bGlzdCcsIHsKICAgICAgICAnZXZlbnRfaWQnOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgJ25hbWUnOiBuYW1lLAogICAgICAgICdlbWFpbCc6IGVtYWlsLAogICAgICAgICd0aWNrZXRfdHlwZSc6IHRoaXMuZGF0YV9jb2xsZWN0aW5nID8gJ3dpdGgnOiAnd2l0aG91dCcKICAgICAgfSkKICAgICAgICAudGhlbigoKT0+ewogICAgICAgICAgdGhpcy5pbXBvcnRfZGlhbG9nID0gZmFsc2UKICAgICAgICAgIHRoaXMuc3RlcHBlciA9IDEKICAgICAgICB9KQogICAgICAuZmluYWxseSgoKSA9PiB0aGlzLmxvYWRpbmcgPSBmYWxzZSkKCiAgICB9CiAgfSwKICBkYXRhOiAoKT0+KHsKICAgIGxvYWRpbmc6ZmFsc2UsCiAgICBpbXBvcnRfZGlhbG9nOm51bGwsCiAgICBzZW5kX2RpYWxvZzpudWxsLAogICAgZGV0YWlsX2RpYWxvZzpudWxsLAogICAgZ3Vlc3RsaXN0Om51bGwsCiAgICBuZXh0X2J1dHRvbl9kaXNhYmxlZDp0cnVlLAogICAgc3RlcHBlcjoxLAoKICAgIGl0ZW1zX2xlZnQ6WyduYW1lJywgJ2VtYWlsJ10sCiAgICBkYXRhX2xlZnQ6W10sCiAgICBoZWFkZXJfbGVmdDonJywKICAgIHNlbGVjdF9sZWZ0OmZhbHNlLAoKICAgIGl0ZW1zX3JpZ2h0OlsnbmFtZScsICdlbWFpbCddLAogICAgZGF0YV9yaWdodDogW10sCiAgICBoZWFkZXJfcmlnaHQ6ICcnLAogICAgc2VsZWN0X3JpZ2h0OmZhbHNlLAoKICAgIGRhdGFfY29sbGVjdGluZzpmYWxzZSwKCiAgICBzaW5nbGVfbmFtZTonJywKICAgIHNpbmdsZV9lbWFpbDonJywKICAgIHNpbmdsZV9kYXRhX2NvbGxlY3Rpbmc6ZmFsc2UsCgogICAgZGV0YWlsOnsKICAgICAgaGVhZGVyczpbCiAgICAgICAgeyB0ZXh0OiAnTmFhbScsIHZhbHVlOiAnbmFtZScgfSwKICAgICAgICB7IHRleHQ6ICdFbWFpbCcsIHZhbHVlOiAnZW1haWwnIH0sCiAgICAgICAgeyB0ZXh0OiAnR2VzbGFjaHQnLCB2YWx1ZTogJ3NleCcgfSwKICAgICAgICB7IHRleHQ6ICdHZWJvb3J0ZWRhdHVtJywgdmFsdWU6ICdiaXJ0aGRhdGUnIH0sCiAgICAgIF0sCiAgICAgIGl0ZW1zOltdCgogICAgfSwKCiAgICBmaW5hbmNpYWxfb3ZlcnZpZXc6W10sCiAgICBndWVzdF90aWNrZXQ6bnVsbCwKICAgIHNwZWNpYWxfZ3Vlc3RfdGlja2V0Om51bGwsCgogICAgdG90YWxfcHJpY2U6MCwKICAgIHRvdGFsX3RpY2tldHNfc29sZDowLAoKICAgIGl0ZW1zOiBbCiAgICAgIHsgdGl0bGU6ICdJbXBvcnQgZ3Vlc3RsaXN0JyB9LAogICAgICB7IHRpdGxlOiAnU3R1dXIgZ2FzdGVubGlqc3QgdGlja2V0JyB9CiAgICBdLAogIH0pCn0KCg=="},{"version":3,"sources":["Visitors.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Visitors.vue","sourceRoot":"views/event","sourcesContent":["<template>\n  <v-card>\n\n    <v-dialog\n        v-model=\"import_dialog\"\n        max-width=\"900px\"\n    >\n\n          <v-stepper v-model=\"stepper\" non-linear>\n            <v-stepper-header style=\"box-shadow: none\">\n              <v-stepper-step step=\"1\" editable :complete=\"stepper > 1\">\n                Upload excel bestand\n              </v-stepper-step>\n\n              <v-divider></v-divider>\n\n              <v-stepper-step step=\"2\" editable :complete=\"stepper > 2\">\n                Selecteer de juiste kolommen\n              </v-stepper-step>\n\n              <v-divider></v-divider>\n\n              <v-stepper-step step=\"3\" :complete=\"stepper > 3\">\n                Verstuur de gastenlijst\n              </v-stepper-step>\n            </v-stepper-header>\n            <v-stepper-items>\n              <v-stepper-content step=\"1\">\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-checkbox v-model=\"data_collecting\" label=\"Met dataverzameling\"></v-checkbox>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-file-input @change=\"setUploadFile\" name=\"guestlist\" accept=\"xls/*\" label=\"Bestand(xls)\"></v-file-input>\n                  </v-col>\n                  <v-col cols=\"12\" class=\"text-right\">\n                    <v-btn text color=\"primary\" @click=\"import_dialog = false\">Cancel</v-btn>\n                    <v-btn color=\"primary\" @click=\"save\">Import & volgende stap</v-btn>\n                  </v-col>\n\n                </v-row>\n              </v-stepper-content>\n              <v-stepper-content step=\"2\">\n                <v-row>\n                  <v-col cols=\"6\">\n                    <v-select\n                        v-model=\"select_left\"\n                        :items=\"items_left\"\n                        label=\"Select as\"\n                        @change=\"selectCheck\"\n                        dense\n                        outlined\n                    ></v-select>\n                    <v-simple-table>\n                      <template v-slot:default>\n                        <thead>\n                        <tr>\n                          <th class=\"text-left\">\n                            {{header_left}}\n                          </th>\n\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr\n                            v-for=\"item in data_left\"\n                            :key=\"item\"\n                        >\n                          <td>{{ item }}</td>\n                        </tr>\n                        </tbody>\n                      </template>\n                    </v-simple-table>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    <v-select\n                        v-model=\"select_right\"\n                        :items=\"items_right\"\n                        @change=\"selectCheck\"\n                        label=\"Select as\"\n                        dense\n                        outlined\n                    ></v-select>\n                    <v-simple-table>\n                      <template v-slot:default>\n                        <thead>\n                          <tr>\n                            <th class=\"text-left\">\n                              {{header_right}}\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                          <tr\n                              v-for=\"item in data_right\"\n                              :key=\"item\"\n                          >\n                            <td>{{ item }}</td>\n                          </tr>\n                        </tbody>\n                      </template>\n\n                    </v-simple-table>\n                  </v-col>\n                  <v-col cols=\"12\" class=\"text-right\">\n                    <v-btn text color=\"primary\" @click=\"import_dialog = false\">Cancel</v-btn>\n                    <v-btn color=\"primary\" :disabled=\"next_button_disabled\" @click=\"stepper = 3\">Volgende</v-btn>\n                  </v-col>\n                </v-row>\n              </v-stepper-content>\n              <v-stepper-content step=\"3\">\n                <v-row>\n                  <v-col cols=\"12\" class=\"text-center\">\n                    <v-btn text color=\"primary\" @click=\"import_dialog = false\">Cancel</v-btn>\n                    <v-btn color=\"primary\" @click=\"send\">Verstuur</v-btn>\n                  </v-col>\n                </v-row>\n              </v-stepper-content>\n            </v-stepper-items>\n          </v-stepper>\n\n\n    </v-dialog>\n\n    <v-dialog\n        v-model=\"send_dialog\"\n        max-width=\"600px\"\n    >\n      <v-card>\n        <v-card-title>Verstuur ticket</v-card-title>\n        <v-card-text>\n          <v-row>\n            <v-col cols=\"12\">\n              <v-checkbox v-model=\"single_data_collecting\" label=\"Met dataverzameling\"></v-checkbox>\n            </v-col>\n            <v-col cols=\"6\">\n              <v-text-field v-model=\"single_name\" label=\"Naam\" name=\"name\" required></v-text-field>\n            </v-col>\n            <v-col cols=\"6\">\n              <v-text-field v-model=\"single_email\" label=\"Email\" name=\"email\" required></v-text-field>\n            </v-col>\n          </v-row>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn text color=\"primary\" @click=\"send_dialog = false\">Cancel</v-btn>\n          <v-btn color=\"primary\" @click=\"send_single_ticket\">Verstuur</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n        v-model=\"detail_dialog\"\n        max-width=\"900px\"\n    >\n      <v-card>\n        <v-card-title>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\">Download CSV</v-btn>\n        </v-card-title>\n        <v-card-text>\n          <v-data-table\n              dense\n              :headers=\"detail.headers\"\n              :items=\"detail.items\"\n              :items-per-page=\"10\"\n          ></v-data-table>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn text @click=\"detail_dialog = false\">Close</v-btn>\n\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-card-title class=\"blue white--text\">\n      <span class=\"headline\">Bezoekers registratie</span>\n      <v-spacer></v-spacer>\n      <v-menu\n          bottom\n          left\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n              dark\n              icon\n              v-bind=\"attrs\"\n              v-on=\"on\"\n          >\n            <v-icon>mdi-dots-vertical</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item>\n            <v-list-item-title @click=\"import_dialog = true\">Import guestlist</v-list-item-title>\n          </v-list-item>\n          <v-list-item>\n            <v-list-item-title @click=\"send_dialog = true\">Stuur gastenlijst ticket</v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card-text>\n      <v-simple-table>\n        <template v-slot:default>\n          <thead>\n          <tr>\n            <th class=\"text-left\">\n              Bezoekersregistratie\n            </th>\n            <th class=\"text-left\">\n              Aantal tickets\n            </th>\n            <th class=\"text-left\">\n              Ticketprijs\n            </th>\n            <th class=\"text-left\">\n              Totaal\n            </th>\n            <th></th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr\n              v-for=\"item in financial_overview\"\n              :key=\"item.name\"\n          >\n            <td>{{ item.name }}</td>\n            <td>{{item.total_sold}}/{{item.quantity}}</td>\n            <td>€{{item.ticket_price}}</td>\n            <td>€{{item.total_price}}</td>\n            <td>\n              <v-btn x-small @click=\"show_detail_dialog('total', item.id)\">Bezoekerslijst</v-btn>\n              <v-btn x-small icon style=\"margin-left:20px\" @click=\"download('ticketblaaa')\"><v-icon>mdi-file-download</v-icon></v-btn>\n            </td>\n          </tr>\n          <tr v-if=\"guest_ticket\">\n            <td>Gastenlijst</td>\n            <td>{{ guest_ticket }}</td>\n            <td>&nbsp;</td>\n            <td>&nbsp;</td>\n            <td>\n              <v-btn x-small @click=\"show_detail_dialog('guest_ticket', 'guest_ticket')\">Bezoekerslijst</v-btn>\n              <v-btn x-small icon style=\"margin-left:20px\" @click=\"download('guest_ticket')\"><v-icon>mdi-file-download</v-icon></v-btn>\n            </td>\n          </tr>\n          <tr v-if=\"special_guest_ticket\">\n            <td>Gastenlijst</td>\n            <td>{{ special_guest_ticket }}</td>\n            <td>&nbsp;</td>\n            <td>&nbsp;</td>\n            <td>\n              <v-btn x-small @click=\"show_detail_dialog('special_guest_ticket', 'special_guest_ticket')\">Bezoekerslijst</v-btn>\n              <v-btn x-small icon style=\"margin-left:20px\" @click=\"download('special_guest_ticket')\"><v-icon>mdi-file-download</v-icon></v-btn>\n\n            </td>\n          </tr>\n          <tr>\n            <td>TOTAAL</td>\n            <td>{{total_tickets_sold}}</td>\n            <td></td>\n            <td>€{{total_price}}</td>\n            <td>\n              <v-btn x-small @click=\"show_detail_dialog('total', 'all')\">Bezoekerslijst</v-btn>\n              <v-btn x-small icon style=\"margin-left:20px\" @click=\"download('all')\"><v-icon>mdi-file-download</v-icon></v-btn>\n            </td>\n          </tr>\n\n          </tbody>\n\n        </template>\n      </v-simple-table>\n    </v-card-text>\n\n  </v-card>\n</template>\n\n<script>\n\nexport default {\n  name: 'EventVisitors',\n  mounted() {\n    this.loading = true\n    this.$store.getters['event_visitors/getall'](this.$route.params.id)\n        .then((response) => {\n          let data = response.data;\n          this.financial_overview = data.financial_overview;\n          this.guest_ticket = data.guest_ticket\n          this.special_guest_ticket = data.special_guest_ticket\n\n          this.total_price = data.total_price\n          this.total_tickets_sold = data.total_tickets_sold\n        })\n        .finally(() => this.loading=false)\n  },\n  methods:{\n    show_detail_dialog: function(type, ticket_id){\n\n      this.detail_dialog = true;\n      this.$store.getters['event_visitors/get_visitors_for_ticket'](this.$route.params.id, ticket_id)\n        .then((response) => {\n          this.detail.items = response.data.data\n        }).finally(() => this.loading=false)\n\n    },\n    setUploadFile(file){\n      this.guestlist = file;\n    },\n    //\n    download(type){\n      console.log(type);\n    },\n    save () {\n      // this.showLoader();\n\n      this.loading = true;\n\n      let formData = new FormData();\n\n      formData.append(\"importfile\", this.guestlist);\n\n      // return;\n      this.$store.dispatch('event_visitors/upload_guestlist', {event_id:this.$route.params.id, guestlist:formData})\n          .then((res)=>{\n            console.log(res.data)\n            let sheet = res.data.sheet;\n\n            const columns = Object.keys(sheet);\n            this.data_left = sheet[columns[0]];\n            this.header_left = columns[0];\n\n            this.data_right = sheet[columns[1]];\n            this.header_right = columns[1];\n\n            this.stepper = 2;\n          })\n          .finally(() => this.loading = false)\n    },\n    selectCheck(){\n      if(this.select_left === this.select_right){\n        this.next_button_disabled=true;\n      }else if(this.select_left !== false && this.select_right !== false){\n        this.next_button_disabled=false;\n      }\n    },\n    send_single_ticket(){\n      this.$store.dispatch('event_visitors/send_single_ticket', {\n        'event_id': this.$route.params.id,\n        'name': this.single_name,\n        'email': this.single_email,\n        'ticket_type': this.data_collecting ? 'with': 'without'\n      })\n        .then(()=>{\n          this.send_dialog = false\n        })\n        .finally(() => this.loading = false)\n    },\n    send(){\n      // let left_select = this.select_left;\n      // let right_select = this.select_right;\n      console.log(this.select_left)\n      let name = this.select_left === 'name' ? this.header_left : this.header_right;\n      let email = this.select_right === 'name' ? this.header_left : this.header_right;\n\n      this.$store.dispatch('event_visitors/send_guestlist', {\n        'event_id': this.$route.params.id,\n        'name': name,\n        'email': email,\n        'ticket_type': this.data_collecting ? 'with': 'without'\n      })\n        .then(()=>{\n          this.import_dialog = false\n          this.stepper = 1\n        })\n      .finally(() => this.loading = false)\n\n    }\n  },\n  data: ()=>({\n    loading:false,\n    import_dialog:null,\n    send_dialog:null,\n    detail_dialog:null,\n    guestlist:null,\n    next_button_disabled:true,\n    stepper:1,\n\n    items_left:['name', 'email'],\n    data_left:[],\n    header_left:'',\n    select_left:false,\n\n    items_right:['name', 'email'],\n    data_right: [],\n    header_right: '',\n    select_right:false,\n\n    data_collecting:false,\n\n    single_name:'',\n    single_email:'',\n    single_data_collecting:false,\n\n    detail:{\n      headers:[\n        { text: 'Naam', value: 'name' },\n        { text: 'Email', value: 'email' },\n        { text: 'Geslacht', value: 'sex' },\n        { text: 'Geboortedatum', value: 'birthdate' },\n      ],\n      items:[]\n\n    },\n\n    financial_overview:[],\n    guest_ticket:null,\n    special_guest_ticket:null,\n\n    total_price:0,\n    total_tickets_sold:0,\n\n    items: [\n      { title: 'Import guestlist' },\n      { title: 'Stuur gastenlijst ticket' }\n    ],\n  })\n}\n\n</script>"]}]}