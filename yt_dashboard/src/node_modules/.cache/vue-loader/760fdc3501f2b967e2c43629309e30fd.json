{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/martijn/Documents/projects/yourtickets/yourticketsgit/yourtickets/yt_dashboard/src/views/Events.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/martijn/Documents/projects/yourtickets/yourticketsgit/yourtickets/yt_dashboard/src/views/Events.vue","mtime":1618405950339},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0V2ZW50cycsCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzWydldmVudC9nZXRFdmVudHMnXQogICAgICAudGhlbihyZXNwb25zZSA9PiAodGhpcy5ldmVudHMgPSByZXNwb25zZS5kYXRhKSkKICAgICAgLmZpbmFsbHkoKCkgPT4gdGhpcy5sb2FkaW5nID0gZmFsc2UpCiAgfSwKICBtZXRob2RzOnsKICAgICdjcmVhdGUnOiBmdW5jdGlvbigpewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZXZlbnQvQ1JFQVRFX0VWRU5UJywgeyd0aXRsZSc6IHRoaXMudGl0bGV9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2V2ZW50X2VkaXQnLCBwYXJhbXM6IHsgaWQ6IHJlc3BvbnNlLmRhdGEuZXZlbnQgfX0pCiAgICAgICAgICB0aGlzLmNyZWF0ZV9ldmVudF9kaWFsb2cgPSBmYWxzZQogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gdGhpcy5sb2FkaW5nID0gZmFsc2UpCiAgICB9CiAgfSwKICBkYXRhICgpewogICAgICByZXR1cm4gewogICAgICAgIGNyZWF0ZV9ldmVudF9kaWFsb2c6ZmFsc2UsCiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICB0aXRsZTonJywKICAgICAgICBoZWFkZXJzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICdFdmVudCcsCiAgICAgICAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAndGl0bGUnLAogICAgICAgICAgfSwKICAgICAgICAgIHsgdGV4dDogJ0xvY2F0aW9uJywgdmFsdWU6ICdsb2NhdGlvbicgfSwKICAgICAgICAgIHsgdGV4dDogJ1N0YXJ0IGRhdGUnLCB2YWx1ZTogJ3N0YXJ0X2RhdGUnIH0sCiAgICAgICAgICB7IHRleHQ6ICdQdWJsaWMnLCB2YWx1ZTogJ2V2ZW50X3B1YmxpYycgfSwKICAgICAgICAgIHsgdGV4dDogJ2FjdGlvbnMnLCB2YWx1ZTonYWN0aW9ucyd9CiAgICAgICAgXSwKICAgICAgICBldmVudHM6IFtdCiAgICAgIH0KICAgIH0sCn0K"},{"version":3,"sources":["Events.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Events.vue","sourceRoot":"views","sourcesContent":["<template>\n    <v-card>\n      <v-card-title>\n        <v-dialog v-model=\"create_event_dialog\" max-width=\"600px\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              color=\"primary\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >\n              CREATE EVENT\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title class=\"headline\">Create event</v-card-title>\n            <v-card-text>\n\n              <v-container>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <v-text-field label=\"Name\" v-model=\"title\" name=\"title\" required></v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-container>\n\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"create_event_dialog = false\">Close</v-btn>\n              <v-btn color=\"blue darken-1\" text v-on:click=\"create\">Save</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-card-title>\n      <v-divider></v-divider>\n      <v-text-field\n        prepend-icon=\"mdi-magnify\"\n        label=\"Search\"\n        style=\"padding-left:10px;\"\n        single-line\n        solo\n        flat\n        hide-details\n\n      ></v-text-field>\n        <v-divider></v-divider>\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"events\"\n          item-key=\"id\"\n          class=\"elevation-1\"\n          :loading=\"loading\"\n        >\n          <template v-slot:item.title=\"{ item }\">\n            <router-link :to=\"{ name: 'event_edit', params: { id: item.pk }}\">{{item.title}}</router-link>\n          </template>\n          <template v-slot:item.event_public=\"{ item }\">\n            <v-icon v-if=\"item.event_public\" color=\"green\">mdi-eye</v-icon>\n            <v-icon v-else-if=\"!item.event_public\">mdi-eye-off</v-icon>\n          </template>\n          <template v-slot:item.actions=\"{ item }\">\n            <v-btn :href=\"item.url\" target=\"_blank\" text x-small v-if=\"item.event_public\">preview</v-btn>\n          </template>\n        </v-data-table>\n\n\n    </v-card>\n\n</template>\n\n<script>\n\nexport default {\n  name: 'Events',\n  mounted () {\n    this.$store.getters['event/getEvents']\n      .then(response => (this.events = response.data))\n      .finally(() => this.loading = false)\n  },\n  methods:{\n    'create': function(){\n      this.$store.dispatch('event/CREATE_EVENT', {'title': this.title})\n        .then(response => {\n          this.$router.push({ name: 'event_edit', params: { id: response.data.event }})\n          this.create_event_dialog = false\n        })\n        .finally(() => this.loading = false)\n    }\n  },\n  data (){\n      return {\n        create_event_dialog:false,\n        loading: true,\n        title:'',\n        headers: [\n          {\n            text: 'Event',\n            align: 'start',\n            sortable: false,\n            value: 'title',\n          },\n          { text: 'Location', value: 'location' },\n          { text: 'Start date', value: 'start_date' },\n          { text: 'Public', value: 'event_public' },\n          { text: 'actions', value:'actions'}\n        ],\n        events: []\n      }\n    },\n}\n</script>\n"]}]}