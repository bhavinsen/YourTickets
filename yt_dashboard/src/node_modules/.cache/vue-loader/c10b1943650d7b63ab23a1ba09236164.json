{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/martijn/Documents/projects/yourtickets/yourticketsgit/yourtickets/yt_dashboard/src/views/event/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/martijn/Documents/projects/yourtickets/yourticketsgit/yourtickets/yt_dashboard/src/views/event/Dashboard.vue","mtime":1618405950341},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzYWxlc19jaGFydCBmcm9tICJAL2NvbXBvbmVudHMvZXZlbnQvZGFzaGJvYXJkL3NhbGVzX2NoYXJ0IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRXZlbnREYXNoYm9hcmQnLAogIGNvbXBvbmVudHM6IHsKICAgIHNhbGVzX2NoYXJ0CiAgfSwKICBtb3VudGVkICgpIHsKICAgIC8vIHRoaXMuc2hvd0xvYWRlcigpOwogICAgdGhpcy4kc3RvcmUuZ2V0dGVyc1snZXZlbnRfc3RhdGlzdGljcy9zdGF0aXN0aWNzJ10odGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy50aWNrZXRzX3NvbGRfdG90YWwgPSByZXNwb25zZS5kYXRhLnRpY2tldHNfc29sZF90b3RhbAogICAgICAgICAgdGhpcy50aWNrZXRzX2F2YWlsYWJsZSA9IHJlc3BvbnNlLmRhdGEudGlja2V0c19hdmFpbGFibGUKICAgICAgICAgIHRoaXMudGlja2V0c19zb2xkX3RvZGF5X3RvdGFsID0gcmVzcG9uc2UuZGF0YS50aWNrZXRzX3NvbGRfdG9kYXlfdG90YWwKICAgICAgICAgIHRoaXMucmV2ZW51ZSA9IHJlc3BvbnNlLmRhdGEucmV2ZW51ZQogICAgICAgICAgdGhpcy50aWNrZXRzaG9wX3ZpZXdzID0gcmVzcG9uc2UuZGF0YS50aWNrZXRzaG9wX3ZpZXdzCiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiB0aGlzLmhpZGVMb2FkZXIoKSkKICAgIHRoaXMuY2hhcnRMb2FkZWQgPSBmYWxzZTsKICAgIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2V2ZW50X3N0YXRpc3RpY3Mvc2FsZXNfY2hhcnQnXSh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgogICAgICAgICAgdGhpcy5kYXRhY29sbGVjdGlvbiA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICB0aGlzLmNoYXJ0TG9hZGVkID0gdHJ1ZTsKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHRoaXMuaGlkZUxvYWRlcigpKQogICAgLy8gdGhpcy5maWxsRGF0YSgpCiAgfSwKICBtZXRob2RzOnsKICAgIHNob3dMb2FkZXIoKXsKICAgICAgLy90aGlzLiRlbWl0KCdzaG93X2xvYWRlcicpOwogICAgfSwKICAgIGhpZGVMb2FkZXIoKXsKICAgICAgLy90aGlzLiRlbWl0KCdoaWRlX2xvYWRlcicpOwogICAgfSwKICAgIGZpbGxEYXRhICgpIHsKICAgICAgdGhpcy5kYXRhY29sbGVjdGlvbiA9IHsKICAgICAgICBsYWJlbHM6IFt0aGlzLmdldFJhbmRvbUludCgpLCB0aGlzLmdldFJhbmRvbUludCgpXSwKICAgICAgICBkYXRhc2V0czogWwogICAgICAgICAgewogICAgICAgICAgICBsYWJlbDogJ0RhdGEgT25lJywKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y4Nzk3OScsCiAgICAgICAgICAgIGRhdGE6IFt0aGlzLmdldFJhbmRvbUludCgpLCB0aGlzLmdldFJhbmRvbUludCgpXQogICAgICAgICAgfSwgewogICAgICAgICAgICBsYWJlbDogJ0RhdGEgT25lJywKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzk5OTk5OScsCiAgICAgICAgICAgIGRhdGE6IFt0aGlzLmdldFJhbmRvbUludCgpLCB0aGlzLmdldFJhbmRvbUludCgpXQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfQogICAgfSwKICAgIGdldFJhbmRvbUludCAoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoNTAgLSA1ICsgMSkpICsgNQogICAgfQogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGNoYXJ0TG9hZGVkOmZhbHNlLAogICAgY2hhcnRvcHRpb25zOnsKICAgICAgbGVnZW5kOiB7cG9zaXRpb246ICd0b3AnfSwKICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsCiAgICAgIHNjYWxlczogewogICAgICAgIHlBeGVzOiBbewogICAgICAgICAgdGlja3M6IHsKICAgICAgICAgICAgYmVnaW5BdFplcm86IHRydWUsCiAgICAgICAgICAgIG1pbjogMAogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0KICAgIH0sCgogICAgdGlja2V0c19zb2xkX3RvdGFsOiAwLAogICAgdGlja2V0c19hdmFpbGFibGU6MCwKICAgIHRpY2tldHNfc29sZF90b2RheV90b3RhbDogMCwKICAgIHJldmVudWU6MCwKICAgIHRpY2tldHNob3Bfdmlld3M6MCwKCiAgICBkYXRhY29sbGVjdGlvbjogbnVsbAogIH0pCn0K"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"views/event","sourcesContent":["<template>\n  <v-card width=\"960\" class=\"mx-auto\" flat>\n    <v-row>\n      <v-col cols=\"3\">\n        <v-card>\n          <v-card-title class=\"d-flex justify-center subtitle-1 font-weight-regular\" >Tickets verkocht</v-card-title>\n          <v-card-text class=\"d-flex justify-center text-h5\">{{ tickets_sold_total }}/{{tickets_available}}</v-card-text>\n        </v-card>\n      </v-col>\n      <v-col cols=\"3\">\n        <v-card>\n          <v-card-title class=\"d-flex justify-center subtitle-1 font-weight-regular\" >Vandaag verkocht</v-card-title>\n          <v-card-text class=\"d-flex justify-center text-h5\">{{tickets_sold_today_total}}</v-card-text>\n        </v-card>\n      </v-col>\n      <v-col cols=\"3\">\n        <v-card>\n          <v-card-title class=\"d-flex justify-center subtitle-1 font-weight-regular\" >Omzet</v-card-title>\n          <v-card-text class=\"d-flex justify-center text-h5\">&euro;{{revenue}}</v-card-text>\n        </v-card>\n      </v-col>\n      <v-col cols=\"3\">\n        <v-card>\n          <v-card-title class=\"d-flex justify-center subtitle-1 font-weight-regular\" >Ticketshop views</v-card-title>\n          <v-card-text class=\"d-flex justify-center text-h5\">{{ticketshop_views}}</v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-card min-height=\"300\">\n      <v-card-title>Performance</v-card-title>\n      <v-card-text>\n        <v-overlay absolute :value=\"!chartLoaded\">\n          <v-progress-circular\n              :size=\"70\"\n              :width=\"7\"\n              color=\"primary\"\n              indeterminate\n          ></v-progress-circular>\n        </v-overlay>\n        <v-lazy :options=\"{threshold: 0}\"\n            min-height=\"200\"\n            transition=\"fade-transition\"\n        >\n          <sales_chart v-if=\"chartLoaded\" :options=\"chartoptions\" :chart-data=\"datacollection\"></sales_chart>\n        </v-lazy>\n      </v-card-text>\n    </v-card>\n  </v-card>\n</template>\n\n<script>\nimport sales_chart from \"@/components/event/dashboard/sales_chart\";\n\nexport default {\n  name: 'EventDashboard',\n  components: {\n    sales_chart\n  },\n  mounted () {\n    // this.showLoader();\n    this.$store.getters['event_statistics/statistics'](this.$route.params.id)\n        .then((response) => {\n          this.tickets_sold_total = response.data.tickets_sold_total\n          this.tickets_available = response.data.tickets_available\n          this.tickets_sold_today_total = response.data.tickets_sold_today_total\n          this.revenue = response.data.revenue\n          this.ticketshop_views = response.data.ticketshop_views\n        })\n        .finally(() => this.hideLoader())\n    this.chartLoaded = false;\n    this.$store.getters['event_statistics/sales_chart'](this.$route.params.id)\n        .then((response) => {\n\n          this.datacollection = response.data.data;\n          console.log(response.data)\n          this.chartLoaded = true;\n        })\n        .finally(() => this.hideLoader())\n    // this.fillData()\n  },\n  methods:{\n    showLoader(){\n      //this.$emit('show_loader');\n    },\n    hideLoader(){\n      //this.$emit('hide_loader');\n    },\n    fillData () {\n      this.datacollection = {\n        labels: [this.getRandomInt(), this.getRandomInt()],\n        datasets: [\n          {\n            label: 'Data One',\n            backgroundColor: '#f87979',\n            data: [this.getRandomInt(), this.getRandomInt()]\n          }, {\n            label: 'Data One',\n            backgroundColor: '#999999',\n            data: [this.getRandomInt(), this.getRandomInt()]\n          }\n        ]\n      }\n    },\n    getRandomInt () {\n      return Math.floor(Math.random() * (50 - 5 + 1)) + 5\n    }\n  },\n  data: () => ({\n    chartLoaded:false,\n    chartoptions:{\n      legend: {position: 'top'},\n      responsive: true, maintainAspectRatio: false,\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            min: 0\n          }\n        }]\n      }\n    },\n\n    tickets_sold_total: 0,\n    tickets_available:0,\n    tickets_sold_today_total: 0,\n    revenue:0,\n    ticketshop_views:0,\n\n    datacollection: null\n  })\n}\n</script>\n"]}]}